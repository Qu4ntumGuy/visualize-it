{"ast":null,"code":"var _jsxFileName = \"D:\\\\Windows\\\\Web Apps\\\\visualize-it\\\\frontend\\\\src\\\\Components\\\\MapChart.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from \"react\";\nimport { Bar, Chart } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, Title } from \"chart.js/auto\";\nimport { ProjectionScale } from \"chartjs-chart-geo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MapChart({\n  data\n}) {\n  _s();\n  const barData = {\n    labels: data.map(item => item._id),\n    datasets: [{\n      label: \"Customer Distribution by City\",\n      data: data.map(item => item.count),\n      backgroundColor: \"rgba(75, 2, 102, 0.7)\",\n      borderColor: \"rgba(75, 192, 192, 1)\",\n      borderWidth: 1\n    }]\n  };\n  const chartRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  useEffect(() => {\n    // Destroy the existing chart instance if it exists\n    if (chartInstanceRef.current) {\n      chartInstanceRef.current.destroy();\n    }\n\n    // Create a new chart instance\n    chartInstanceRef.current = new Chart(chartRef.current, {\n      type: \"bar\",\n      // or any other chart type\n      data,\n      options\n    });\n\n    // Cleanup function to destroy the chart when the component unmounts\n    return () => {\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n      }\n    };\n  }, [data, options]);\n  const barOptions = {\n    plugins: {\n      legend: {\n        display: false\n      }\n    },\n    scales: {\n      //   y: {\n      //     beginAtZero: true,\n      //     title: {\n      //       display: true,\n      //       text: \"Customer Count\",\n      //     },\n      //   },\n      //   x: {\n      //     title: {\n      //       display: true,\n      //       text: \"City\",\n      //     },\n      //   },\n      projection: {\n        axis: \"x\",\n        projection: \"equalEarth\"\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Chart, {\n    type: \"choropleth\",\n    data: barData,\n    options: barOptions\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 10\n  }, this);\n}\n_s(MapChart, \"0kidk2EAizBYKgfY+KQx4ULbe78=\");\n_c = MapChart;\nexport default MapChart;\nvar _c;\n$RefreshReg$(_c, \"MapChart\");","map":{"version":3,"names":["React","useRef","Bar","Chart","ChartJS","CategoryScale","LinearScale","Title","ProjectionScale","jsxDEV","_jsxDEV","MapChart","data","_s","barData","labels","map","item","_id","datasets","label","count","backgroundColor","borderColor","borderWidth","chartRef","chartInstanceRef","useEffect","current","destroy","type","options","barOptions","plugins","legend","display","scales","projection","axis","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Windows/Web Apps/visualize-it/frontend/src/Components/MapChart.js"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport { Bar, Chart } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  Title,\r\n} from \"chart.js/auto\";\r\nimport { ProjectionScale } from \"chartjs-chart-geo\";\r\n\r\nfunction MapChart({ data }) {\r\n  const barData = {\r\n    labels: data.map((item) => item._id),\r\n    datasets: [\r\n      {\r\n        label: \"Customer Distribution by City\",\r\n        data: data.map((item) => item.count),\r\n        backgroundColor: \"rgba(75, 2, 102, 0.7)\",\r\n        borderColor: \"rgba(75, 192, 192, 1)\",\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartRef = useRef(null);\r\n  const chartInstanceRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Destroy the existing chart instance if it exists\r\n    if (chartInstanceRef.current) {\r\n      chartInstanceRef.current.destroy();\r\n    }\r\n\r\n    // Create a new chart instance\r\n    chartInstanceRef.current = new Chart(chartRef.current, {\r\n      type: \"bar\", // or any other chart type\r\n      data,\r\n      options,\r\n    });\r\n\r\n    // Cleanup function to destroy the chart when the component unmounts\r\n    return () => {\r\n      if (chartInstanceRef.current) {\r\n        chartInstanceRef.current.destroy();\r\n      }\r\n    };\r\n  }, [data, options]);\r\n\r\n  const barOptions = {\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n    },\r\n    scales: {\r\n      //   y: {\r\n      //     beginAtZero: true,\r\n      //     title: {\r\n      //       display: true,\r\n      //       text: \"Customer Count\",\r\n      //     },\r\n      //   },\r\n      //   x: {\r\n      //     title: {\r\n      //       display: true,\r\n      //       text: \"City\",\r\n      //     },\r\n      //   },\r\n      projection: {\r\n        axis: \"x\",\r\n        projection: \"equalEarth\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return <Chart type=\"choropleth\" data={barData} options={barOptions} />;\r\n}\r\n\r\nexport default MapChart;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,GAAG,EAAEC,KAAK,QAAQ,iBAAiB;AAC5C,SACEA,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,KAAK,QACA,eAAe;AACtB,SAASC,eAAe,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,SAASC,QAAQA,CAAC;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EAC1B,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAEH,IAAI,CAACI,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,CAAC;IACpCC,QAAQ,EAAE,CACR;MACEC,KAAK,EAAE,+BAA+B;MACtCR,IAAI,EAAEA,IAAI,CAACI,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACI,KAAK,CAAC;MACpCC,eAAe,EAAE,uBAAuB;MACxCC,WAAW,EAAE,uBAAuB;MACpCC,WAAW,EAAE;IACf,CAAC;EAEL,CAAC;EAED,MAAMC,QAAQ,GAAGxB,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMyB,gBAAgB,GAAGzB,MAAM,CAAC,IAAI,CAAC;EAErC0B,SAAS,CAAC,MAAM;IACd;IACA,IAAID,gBAAgB,CAACE,OAAO,EAAE;MAC5BF,gBAAgB,CAACE,OAAO,CAACC,OAAO,CAAC,CAAC;IACpC;;IAEA;IACAH,gBAAgB,CAACE,OAAO,GAAG,IAAIzB,KAAK,CAACsB,QAAQ,CAACG,OAAO,EAAE;MACrDE,IAAI,EAAE,KAAK;MAAE;MACblB,IAAI;MACJmB;IACF,CAAC,CAAC;;IAEF;IACA,OAAO,MAAM;MACX,IAAIL,gBAAgB,CAACE,OAAO,EAAE;QAC5BF,gBAAgB,CAACE,OAAO,CAACC,OAAO,CAAC,CAAC;MACpC;IACF,CAAC;EACH,CAAC,EAAE,CAACjB,IAAI,EAAEmB,OAAO,CAAC,CAAC;EAEnB,MAAMC,UAAU,GAAG;IACjBC,OAAO,EAAE;MACPC,MAAM,EAAE;QACNC,OAAO,EAAE;MACX;IACF,CAAC;IACDC,MAAM,EAAE;MACN;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAC,UAAU,EAAE;QACVC,IAAI,EAAE,GAAG;QACTD,UAAU,EAAE;MACd;IACF;EACF,CAAC;EAED,oBAAO3B,OAAA,CAACP,KAAK;IAAC2B,IAAI,EAAC,YAAY;IAAClB,IAAI,EAAEE,OAAQ;IAACiB,OAAO,EAAEC;EAAW;IAAAO,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACxE;AAAC7B,EAAA,CAlEQF,QAAQ;AAAAgC,EAAA,GAARhC,QAAQ;AAoEjB,eAAeA,QAAQ;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}